
<html  xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
    <meta charset="utf-8" />
    <!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js" integrity="sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ" crossorigin="anonymous"></script>
    <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>
    <link href="../css/fileinput.css" media="all"rel="stylesheet" type="text/css" />
    <script src="../js/fileinput.js"type="text/javascript"></script>
    <style>
        #carousel-example-generic {
            height: 85%;
        }

        #carousel-example-generic .carousel-inner>.item>img {
            display: block;
            width: 100%;
            height: 100%;
        }
        body {
            padding-bottom: 40px;
        }

        .container {

            position: relative;
            min-height: 100%;
        }
        footer {
            width: 100%;
            height:80px;
            position:fixed;
            bottom:0;
            left: 0;
        }

    </style>


</head>
<body>

<!-- 反色导航条组件  -->
<nav class="navbar navbar-inverse">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand"  href="/function/index">基于SM2的文件加密系统</a>
        </div>

        <!-- 功能模块 -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav">

                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">学习网站 <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="https://www.csdn.net/" target="_blank">CSDN</a></li>
                        <li><a href="https://www.hetianlab.com/" target="_blank">合天网安实验室</a></li>
                        <li><a href="https://www.cnvd.org.cn/" target="_blank">国家信息安全漏洞共享平台</a></li>
                    </ul>
                </li>
            </ul>


            <ul class="nav navbar-nav navbar-right">
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">关于我们<span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="#">网站简介</a></li>
                        <li><a href="#">加入我们</a></li>
                        <li><a href="#">合作伙伴</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="#">联系我们</a></li>
                    </ul>
                </li>
            </ul>




            <form class="navbar-form navbar-right "   action="https://www.baidu.com/s" target="_blank">
                <div class="form-group">
                    <input   type="text" name="wd" class="form-control" placeholder="Search">
                </div>
                <button type="submit" class="btn btn-default" >Submit</button>
            </form>

            <ul class="nav navbar-nav navbar-right" style="padding-right: 20px">
                <li class="dropdown">
                    <a href="#" th:text="${session.login.username}" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><span  class="caret"></span>
                    </a>
                    <ul class="dropdown-menu">
                        <li>Email:<a th:text="${session.login.email}"></a></li>
                        <li>Name:<a th:text="${session.login.name}"></a></li>
                        <li>Phone:<a th:text="${session.login.phone}"></a></li>
                        <li>Birthday:<a th:text="${session.login.birthday}"></a></li>
                    </ul>
                </li>
            </ul>


        </div>
    </div>
</nav>
<table class="table">
    <tr>
    <td class="success" >文件名称</td>
    <td class="info">文件路径</td>
    <td class="success">下载次数</td>
    <td class="info">最近下载时间</td>
    <td class="danger">操作</td>
    </tr>
    <tr th:each="info:${fileLists}" >
        <td th:text="${info.getFileName()}"></td>
        <td th:text="${info.getFilePath()}"></td>
        <td th:text="${info.getCount()}"></td>
        <td th:text="${info.getChangeTime()}"></td>
        <td><a th:href="@{/uploadsAndDownloads/download(source=${info.getFilePath()},fileName=${info.getFileName()})}">下载</a></td>
    </tr>
</table>

<table class="table">

    <td class="success" >上传新文件</td>
</table>


<form method="post" th:action="@{/uploadsAndDownloads/upload(username=${session.login.name})}" enctype="multipart/form-data">
    <input class="btn btn-primary btn-lg btn-block "  type="file" name="file">
    <input  class="btn btn-primary btn-lg btn-block"  type="submit" value="提交">
</form>


</div>








<footer  class="panel-footer" style="width: 100%; overflow: hidden;" >
    <div class="container" >
        <hr style="border: 1px  solid #000000;">
        <div class="row" style="text-align: center;">
            <div class="col-sm-4 col-md-4 col-lg-4">
                <a href="#" style=" color: gray;">关于我们</a>
            </div>
            <div class="col-sm-4 col-md-4 col-lg-4">
                <a href="#" style=" color: gray;">联系方式</a></li>
            </div>
            <div class="col-sm-4 col-md-4 col-lg-4">
                <a href="#" style=" color: gray;">特别致谢</a></li>
            </div>
        </div>
    </div>
</footer>

<script th:inline="javascript">
    var msg = [[${upload_msg}]];
    if(msg=='上传成功'||msg=='上传失败') {
        alert(msg);
    }
    var msg1 = [[${download_msg}]];
    if(msg1=='下载成功'||msg1=='下载失败') {
        alert(msg1);
    }
</script>

</body>

</html>